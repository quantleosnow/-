<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>考试系统</title>
<link href="app/core/styles/css/bootstrap.css" rel="stylesheet">
<link href="app/core/styles/css/layoutit.css" rel="stylesheet">
<link href="app/exam/styles/css/plugin.css" rel="stylesheet">
<!–[if lt IE9]>
<script src="app/core/styles/js/html5.js"></script>
<![endif]–>
<!-- Le styles -->
<link href="app/core/styles/css/datepicker.css" rel="stylesheet">
<script type="text/javascript" src="app/core/styles/js/jquery.min.js"></script>
<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
<script src="app/core/styles/js/html5shiv.js"></script>
<script type="text/javascript" src="app/core/styles/js/jquery-1.9.1.min.js"></script>
<![endif]-->
<link media="all" rel="stylesheet" href="app/exam/styles/assets/css/item.css" type="text/css">
<link rel="stylesheet" href="app/exam/styles/assets/js/mathquill/mathquill.css" type="text/css">
<link rel="stylesheet" type="text/css" href="app/exam/styles/assets/css/site.css">
<link href="app/core/styles/css/jquery-ui.css" rel="stylesheet" />
<link media="all" rel="stylesheet" href="app/exam/styles/assets/css/calculator.css" type="text/css" />
<link href="app/exam/styles/css/global.css" rel="stylesheet" type="text/css" />
<link href="app/exam/styles/css/style.css" rel="stylesheet" type="text/css" />
<link href="app/exam/styles/css/exam_paper.css" rel="stylesheet" type="text/css" />
<script src="app/exam/styles/js/SpryCollapsiblePanel.js" type="text/javascript"></script>
<script src="app/exam/styles/js/lib.js"></script>
<script src="app/exam/styles/js/index.js"></script>
<script src="app/exam/styles/js/lesson_nav.js" type="text/javascript"></script>
<script src="app/exam/styles/js/plugin.js"></script>
<script src="files/public/js/jquery.countdown.js"></script>
<script src="files/public/js/artDialog.js?skin=default"></script>
<script type="text/javascript" src="app/exam/styles/js/mathquill.min.js"></script>
<script type="text/javascript" src="app/core/styles/js/bootstrap-datepicker.js"></script>
<script type="text/javascript" src="app/core/styles/js/bootstrap.min.js"></script>
<script type="text/javascript" src="app/core/styles/js/jquery-ui.js"></script>
<script type="text/javascript" src="app/core/styles/js/ckeditor/ckeditor.js"></script>
<script type="text/javascript" src="app/core/styles/js/swfu/swfupload.js"></script>
<script type="text/javascript" src="app/core/styles/js/plugin.js"></script>
</head><body>
<!--导航-->
<div id="nav">
	<div class="float_r">
				<a href="javascript:;">加入收藏</a>
	</div>
	您好，<span class="blue">peadmin</span><a href="index.php?user-app">[个人中心]</a><a href="index.php?user-app-logout">[退出]</a>
</div>
<!--头部-->
<div id="head">
	<div id="banner">
		<h1 style="line-height:100px;color:#FFFFFF;">无纸化考试系统</h1>
	</div>
</div>
<!--主体--><div id="main">
		<!--主体左侧-->
	<div id="main_left" class="main_left">
    	<div id="lesson_nav_top"></div>
    	<div id="lesson_nav_mid">
        	<!--科目导航-->
			<ul id="lesson_menu" class="menu">
              <li>
                <div class="menu-hd"><span id="lesson-current"><a rel="reload" class="collapsible" href="#zl_"></a></span></div>
                <div id="zl_" class="menu-bd" style="display:none">
                  <dl>
                  	                  </dl>
                </div>
              </li>
    		</ul>
            <ol class="menu_con">
      			<li><a href="?exam-app-basics">我的考场</a></li>
      			<li class="on"><a href="?exam-app-exercise">强化训练</a></li>
                <li><a href="?exam-app-exampaper">随机考试</a></li>
                <li><a href="?exam-app-exam">正式考试</a></li>
                <li><a href="?exam-app-record">我的错题</a></li>
                <li><a href="?exam-app-favor">我的收藏</a></li>
                <li><a href="?exam-app-history">答题记录</a></li>
         	</ol>
          <!--科目导航 结束-->
        </div>
    	<div id="lesson_nav_bottom"></div>
    </div>
	<!--主体左侧 结束-->	<!--主体右侧 -->
	<div id="right_760" class="right_760">
    	<div id="bread"><a href="?exam-app"><img src="app/exam/styles/image/home_btn.jpg" class="float_r"/></a><div id="place"><a href="index.php?exam">模拟考试系统</a></div></div>    	<div class="bor_top"></div>
    	<div class="bor_mid">
    		<div id="hide_left"><a href="javascript:pr()"></a></div>
            <div id="notice">
            	<h2 class="page_title"><img src="app/exam/styles/image/exer_notice_tit.jpg" alt="练习须知" /></h2>
                <ul>
                	<li><b>1、</b>在您看完“练习须知”后，配置练习规则，点击“开始练习”按钮进入答题界面，考试开始计时。</li>
                	<li><b>2、</b>在练习过程中，您可以通过顶部的考试时间来掌握自己的做题时间。</li>
                	<li><b>3、</b>提交试卷后，可以通过“查看答案和解析”功能进行总结学习。</li>
                    <li><b>4、</b>综合阶段请按题型提供最大题数输入。如：题型显示“共11题”，则直接输入11，即可抽出整张试卷练习。</li>
                </ul>
                <form action="?exam-app-exercise" id="exer" method="post">
                	<h4>配卷规则</h4>
                    <form>
                    	<ol>
                        	<li>
                            	<span class="red">*</span>
                                <span>章
                                	<select id="thesectionid" name="args[sectionid]" class="combox" ref="theknowsid" refUrl="?exam-app-index-ajax-getknowsbysectionid&sectionid={value}" more="questionnumbers" callback="getSectionContent">
                                		<option value="0">请选择章节</option>
                                		                                	</select>
                                </span>
                                <span>知识点：
                                	<select name="args[knowsid]" id="theknowsid" class="combox" ref="questionnumbers" refUrl="?exam-app-exercise-ajax-getQuestionNumber&sectionid={tmp}&knowsid={value}" tmp="thesectionid">
                                		<option value="0">请先选择知识点</option>
                                	</select>
                                </span>
                                <span id="section_error" class="red font_12 main_left0">请选择章节</span>
                            </li>
                        	<li>
                            	<span class="red">*</span>
                                <span>试卷名称：<input id="exam_name" type="text" name="args[title]" /></span><span style="font-size:12px;">请填适合在答题记录中查找的试卷名称</span>
                                <span id="exam_name_error" class="red font_12 main_left0">请填写试卷名称</span>
                            </li>
                        	<li>
                                <span class="red">*</span>
                                <span>做题时间：<input id="exam_time" type="text" name="args[time]"  value='60'/> 分钟，</span><span style="font-size:12px;">请填写本题练习的时长</span>
                                <span id="exam_time_error" class="red font_12 main_left0">请填写做题时间</span>
                            </li>
                        	<li>
                            <span class="red">*</span>
                            <span>题&nbsp;&nbsp;&nbsp;&nbsp;型：如果您不希望做某种题型，请在选题数值框内填0。</span>
                            <span id="question_count_error" class="red font_12 main_left0">请至少选择一道题</span>
                            </li>
                        </ol>
                        <ol id="questionnumbers">
                                                        <li class="text_in">
                            	单选题（共0题），选 <input id="question_Array" type="text" class="exer_amount" name="args[number][Array]" onChange="javascript:check_num(this);" onBlur="" rel=""/> 题
                            	<span id="question_1_error" class="red font_12 main_left0">选择的题数不能超过</span>
                            </li>
                        	                            <li class="text_in">
                            	多选题（共0题），选 <input id="question_Array" type="text" class="exer_amount" name="args[number][Array]" onChange="javascript:check_num(this);" onBlur="" rel=""/> 题
                            	<span id="question_2_error" class="red font_12 main_left0">选择的题数不能超过</span>
                            </li>
                        	                            <li class="text_in">
                            	判断题（共0题），选 <input id="question_Array" type="text" class="exer_amount" name="args[number][Array]" onChange="javascript:check_num(this);" onBlur="" rel=""/> 题
                            	<span id="question_3_error" class="red font_12 main_left0">选择的题数不能超过</span>
                            </li>
                        	                            <li class="text_in">
                            	问答题（共0题），选 <input id="question_Array" type="text" class="exer_amount" name="args[number][Array]" onChange="javascript:check_num(this);" onBlur="" rel=""/> 题
                            	<span id="question_4_error" class="red font_12 main_left0">选择的题数不能超过</span>
                            </li>
                        	                        </ol>
                        <div id="begin_exer"><input type="hidden" name="setExecriseConfig" value="1" /><input onclick="javascript:return check_form();" type="submit" value="" /></div>
                    </form>
                </div>
            </div>
    	</div>
    	<div class="bor_bottom"></div>
    </div>
	<!--主体右侧 结束-->
	<!--尾部-->
    <div id="footer"> </div>
	<!--尾部 结束-->
</div><script type="text/javascript">
$(document).ready(function(){
	common();
	$("#thesectionid").change(function(){
		$('#section_error').hide();
	});
	$("#exam_name").change(function(){
		$('#exam_name_error').hide();
	});
	$("#exam_time").change(function(){
		$('#exam_time_error').hide();
	});
});
function check_form(){
	var check = true;
	var section = $("#thesectionid").val();
	if ( section == 0 ){
		$('#section_error').show();
		check = false;
	}
	var exam_name = $("#exam_name").val();
	if ( exam_name == "" ){
		$('#exam_name_error').show();
		check = false;
	}
	var exam_time = $("#exam_time").val();
	if ( isNaN(exam_time) || exam_time== 0 ){
		$('#exam_time_error').show();
		check = false;
	}
	var arr = 0;
	$("#questionnumbers").children('li').each(function(){
		var max = $(this).children('input').attr('rel');
		var id = $(this).children('input').attr('id')
		var num = $(this).children('input').val();
		num = (isNaN(num) || num=="") ? 0 : num;
		arr += Number(num);
		if(Number(num) > Number(max)){
			$("#"+id+"_error").show();
			check = false;
			return;
		}
	});
	if( arr == 0 ){
		$("#question_count_error").show();
		check = false;
	}
	return check;
}

function check_num(obj){
	var max = $(obj).attr('rel');
	var id = $(obj).attr('id');
	var num = $(obj).val();
	num = (isNaN(num) || num=="") ? 0 : num;
	if(Number(num) > 0){
		$("#question_count_error").hide();
	}
	if(Number(num) > Number(max)){
		$("#"+id+"_error").show();
		return false;
	}else{
		$("#"+id+"_error").hide();
		return true;
	}
}
</script>
</body>
</html>